<?xml version="1.0" encoding="UTF-8"?>

<xwikidoc version="1.3" reference="BachelorsAndMastersManagement.Distribution.CommitteeRepartitionSheet" locale="">
  <web>BachelorsAndMastersManagement.Distribution</web>
  <name>CommitteeRepartitionSheet</name>
  <language/>
  <defaultLanguage>en</defaultLanguage>
  <translation>0</translation>
  <creator>xwiki:XWiki.Admin</creator>
  <creationDate>1356998400000</creationDate>
  <parent>BachelorsAndMastersManagement.Distribution.CommitteeRepartitionClass</parent>
  <author>xwiki:XWiki.Admin</author>
  <contentAuthor>xwiki:XWiki.Admin</contentAuthor>
  <date>1356998400000</date>
  <contentUpdateDate>1356998400000</contentUpdateDate>
  <version>1.1</version>
  <title>#if($doc.name == 'CommitteeRepartitionSheet')CommitteeRepartition Sheet#{else}$services.display.title($doc, {'displayerHint': 'default'})#end</title>
  <comment/>
  <minorEdit>false</minorEdit>
  <syntaxId>xwiki/2.1</syntaxId>
  <hidden>false</hidden>
  <content>{{velocity}}
{{html}}

#set($dragid = 0)



&lt;form action="#" method="POST" &gt;
&lt;div style="display: grid;
   grid-template-columns: 70% 30% ;
  grid-gap: 0px;
  padding: 0px;"&gt;
   &lt;table style="border: 1px solid black; border-radius: 10px; padding-left: 10px; padding-right: 10px; padding-bottom: 10px;" ondragover="allowDrop(event)"&gt;
       &lt;tr&gt;
    &lt;th&gt;Student&lt;/th&gt;
    &lt;th&gt;Profesor&lt;/th&gt;
    &lt;th&gt;Proiect&lt;/th&gt;
    &lt;/tr&gt;
      #foreach($obj in $doc.getObjects("AppWithinMinutes.String"))
      #set ($dragid = $dragid + 1)
      ##div-ul unui prof care poate fi mutat
      &lt;tr style=" padding-left: 10px;margin-bottom: 2px; margin-top: 2px;" id=s$dragid draggable="true" ondragstart="drag(event)" ondrop="drop(event)"&gt;
      &lt;td&gt;
      &lt;input type="hidden" id=is$dragid name=$obj.getProperty('shortText').value value=&gt;
         $obj.getProperty('shortText').value
         &lt;/td&gt;
         &lt;td&gt;Profesor Super&lt;/td&gt;
         &lt;td&gt;
         Proiect de cercetare 
         &lt;/td&gt;
      &lt;/tr&gt;
      #end
&lt;/table&gt;

&lt;table style="border: 1px solid black;"&gt;
&lt;tr&gt;
&lt;th&gt; Ora &lt;/th&gt;
&lt;/tr&gt;
#foreach($obj in $doc.getObjects("AppWithinMinutes.String"))
&lt;tr &gt;
&lt;td&gt;
Timp
&lt;/td&gt;
&lt;/tr&gt;
#end
&lt;/table&gt;

&lt;/div&gt;



#if ($request.get('submit'))

#end


#if ($request.get('reset'))

#end


   &lt;p align="center"&gt;
      &lt;input name="submit" type="submit" value="Salvare" class="button" &gt;
   &lt;/p&gt;
   &lt;p align="center"&gt;
      &lt;input name="reset" type="submit" value="Reset" class="button"&gt;
   &lt;/p&gt;
&lt;/form&gt;



&lt;script type="text/javascript"&gt;
   function allowDrop(ev) {
       ev.preventDefault();
   }

   function drag(ev) {
       ev.dataTransfer.setData("text", ev.target.id);

   }
   
//window.addEventListener('DOMContentLoaded', plsWork, false);
// ^ autorefresher

   function plsWork()
{
if(localStorage.getItem("refresh") !== "yes"){
window.location.reload();
localStorage.setItem("refresh","yes");
}
else
localStorage.removeItem("refresh");
}

   function drop(ev) {
       ev.preventDefault();
       var data = ev.dataTransfer.getData("text");
       console.log(data);
       var comisie='';
       ev.target.parentElement.parentElement.insertBefore(document.getElementById(data),ev.target.parentElement.nextSibling);
       document.getElementById('i'+data).value = ev.target.id.substr(1,2);
       // inserts after the target
       }
&lt;/script&gt;



{{/html}}
{{/velocity}}


 </content>
</xwikidoc>
